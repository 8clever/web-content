<!DOCTYPE html>
	<html>
		<head>
			<meta charset="utf-8">
			<meta http-equiv="X-UA-Compatible" content="IE=edge">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			<title>{title}</title>
			<link rel='stylesheet' href='/stylesheets/style.css' />
			<link rel=icon href="/favicon.png" sizes="32x32" type="image/png">
		</head>
	<body>
		{> "header" /}
		<div id="maincontent" class="container">
			{+ "body" /}
		</div>
		{> "footer" /}

		<script src="/js/jquery.js"></script>
		<script src="/js/bootstrap.js" ></script>
		<script src="/js/bootstrap-dialog.js" ></script>
		<script>
			var $body = $("body");

			$body.on("submit", "form[data-message]", popupConfirm);
			$body.on("click", "a[data-message]", popupConfirm);

			function popupConfirm (e) {
				var $form = $(this);
				var isConfirmed = $form.data("confirmed");
				var message = $form.data("message");

				if (!isConfirmed) {
					e.preventDefault();

					BootstrapDialog.confirm({
						title: "Warning!",
						message: message,
						type: BootstrapDialog.TYPE_WARNING,
						callback: function(r) {
							if (!r) return;

							$form.data("confirmed", true);
							$form.attr("data-confirmed", true);

							if ($form.is("form")) {
								$form.find("button").toggleClass("btn-warning").toggleClass("btn-danger");
							}

							if ($form.is("a")) {
								$form.toggleClass("btn-warning").toggleClass("btn-danger");
							}
						}
					});
				}
			}
		</script>
	</body>
</html>
